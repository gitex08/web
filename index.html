<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebVeda Business Suite - Complete Business Management Solution</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        /* Login Styles */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .login-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 400px;
            text-align: center;
        }

        .login-logo {
            margin-bottom: 30px;
        }

        .login-logo i {
            font-size: 3rem;
            color: #667eea;
            margin-bottom: 15px;
        }

        .login-logo h1 {
            color: #333;
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .login-logo p {
            color: #6c757d;
            font-size: 0.9rem;
        }

        .login-form {
            margin-top: 30px;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }

        .form-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: white;
        }

        .form-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .login-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .login-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .login-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .error-message {
            background: #f8d7da;
            color: #721c24;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 0.9rem;
            display: none;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 0.9rem;
            display: none;
        }

        .password-toggle {
            position: relative;
        }

        .password-toggle i {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: #6c757d;
            transition: color 0.3s ease;
        }

        .password-toggle i:hover {
            color: #667eea;
        }

        .main-content {
            display: none;
        }

        .logout-btn {
            background: rgba(220, 53, 69, 0.1);
            color: #dc3545;
            border: 2px solid #dc3545;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            margin-left: 15px;
        }

        .logout-btn:hover {
            background: #dc3545;
            color: white;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo i {
            font-size: 2.5rem;
            color: #667eea;
        }

        .logo h1 {
            color: #333;
            font-size: 1.8rem;
            font-weight: 700;
        }

        .logo span {
            color: #667eea;
            font-weight: 300;
        }

        .nav-tabs {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .nav-tab {
            padding: 12px 20px;
            background: rgba(102, 126, 234, 0.1);
            border: 2px solid transparent;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            color: #667eea;
        }

        .nav-tab:hover {
            background: rgba(102, 126, 234, 0.2);
            transform: translateY(-2px);
        }

        .nav-tab.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .content-area {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            min-height: 600px;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .card-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
        }

        .card-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #333;
        }

        .card-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 10px;
        }

        .card-change {
            font-size: 0.9rem;
            color: #28a745;
        }

        .card-change.negative {
            color: #dc3545;
        }

        .module-section {
            display: none;
        }

        .module-section.active {
            display: block;
        }

        .section-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #555;
        }

        .form-input {
            padding: 12px 15px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #218838;
        }

        .btn-warning {
            background: #ffc107;
            color: #212529;
        }

        .btn-warning:hover {
            background: #e0a800;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        .table-container {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        .table {
            width: 100%;
            border-collapse: collapse;
        }

        .table th {
            background: #f8f9fa;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            color: #555;
            border-bottom: 2px solid #e9ecef;
        }

        .table td {
            padding: 15px;
            border-bottom: 1px solid #e9ecef;
        }

        .table tr:hover {
            background: #f8f9fa;
        }

        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .status-active {
            background: #d4edda;
            color: #155724;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-inactive {
            background: #f8d7da;
            color: #721c24;
        }

        .chart-container {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            margin-bottom: 25px;
        }

        .chart-placeholder {
            height: 300px;
            background: linear-gradient(45deg, #f8f9fa 25%, transparent 25%), 
                        linear-gradient(-45deg, #f8f9fa 25%, transparent 25%), 
                        linear-gradient(45deg, transparent 75%, #f8f9fa 75%), 
                        linear-gradient(-45deg, transparent 75%, #f8f9fa 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6c757d;
            font-size: 1.1rem;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .quick-action {
            background: white;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .quick-action:hover {
            transform: translateY(-3px);
        }

        .quick-action i {
            font-size: 2rem;
            color: #667eea;
            margin-bottom: 10px;
        }

        .quick-action h3 {
            font-size: 1.1rem;
            margin-bottom: 5px;
            color: #333;
        }

        .quick-action p {
            color: #6c757d;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 20px;
            }

            .nav-tabs {
                justify-content: center;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Login Section -->
    <div id="loginSection" class="login-container">
        <div class="login-card">
            <div class="login-logo">
                <i class="fas fa-chart-line"></i>
                <h1>WebVeda <span style="color: #667eea;">Business Suite</span></h1>
                <p>Secure Access to Business Management</p>
            </div>
            
            <div class="error-message" id="errorMessage">
                Invalid username or password. Please try again.
            </div>
            
            <div class="success-message" id="successMessage">
                Login successful! Redirecting...
            </div>
            
            <form class="login-form" id="loginForm">
                <div class="form-group">
                    <label class="form-label">Username</label>
                    <input type="text" id="username" class="form-input" placeholder="Enter username" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <div class="password-toggle">
                        <input type="password" id="password" class="form-input" placeholder="Enter password" required>
                        <i class="fas fa-eye" id="togglePassword"></i>
                    </div>
                </div>
                
                <button type="submit" class="login-btn" id="loginBtn">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
            </form>

            <div style="margin-top: 20px; text-align: center;">
                <button type="button" class="login-btn" style="background: rgba(102, 126, 234, 0.1); color: #667eea; border: 2px solid #667eea; display: none;" onclick="showAddUserForm()" id="showAddUserBtn">
                    <i class="fas fa-user-plus"></i> Add New User
                </button>
            </div>
        </div>
    </div>

    <!-- Add User Form -->
    <div id="addUserSection" class="login-container" style="display: none;">
        <div class="login-card">
            <div class="login-logo">
                <i class="fas fa-user-plus"></i>
                <h1>Add New <span style="color: #667eea;">User</span></h1>
                <p>Create new login credentials</p>
            </div>
            
            <div class="error-message" id="addUserErrorMessage">
                Error adding user. Please try again.
            </div>
            
            <div class="success-message" id="addUserSuccessMessage">
                User added successfully!
            </div>
            
            <form class="login-form" id="addUserForm">
                <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <input type="text" id="newUserName" class="form-input" placeholder="Enter full name" required>
                </div>

                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" id="newUserEmail" class="form-input" placeholder="Enter email address" required>
                </div>

                <div class="form-group">
                    <label class="form-label">Username</label>
                    <input type="text" id="newUsername" class="form-input" placeholder="Enter username" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <div class="password-toggle">
                        <input type="password" id="newPassword" class="form-input" placeholder="Enter password" required>
                        <i class="fas fa-eye" id="toggleNewPassword"></i>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Confirm Password</label>
                    <div class="password-toggle">
                        <input type="password" id="confirmPassword" class="form-input" placeholder="Confirm password" required>
                        <i class="fas fa-eye" id="toggleConfirmPassword"></i>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Role</label>
                    <select id="newUserRole" class="form-input" required>
                        <option value="">Select Role</option>
                        <option value="admin">Administrator</option>
                        <option value="manager">Manager</option>
                        <option value="user">User</option>
                    </select>
                </div>
                
                <button type="submit" class="login-btn" id="addUserBtn">
                    <i class="fas fa-user-plus"></i> Add User
                </button>
            </form>

            <div style="margin-top: 20px; text-align: center;">
                <button type="button" class="login-btn" style="background: rgba(108, 117, 125, 0.1); color: #6c757d; border: 2px solid #6c757d;" onclick="showMainLoginForm()">
                    <i class="fas fa-arrow-left"></i> Back to Dashboard
                </button>
            </div>
        </div>
    </div>

    <!-- Main Business Suite Content -->
    <div id="mainContent" class="main-content">
        <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo">
                <i class="fas fa-chart-line"></i>
                <div>
                    <h1>WebVeda <span>Business Suite</span></h1>
                    <p style="color: #6c757d; margin-top: 5px;">Complete Business Management Solution</p>
                </div>
            </div>
            <nav class="nav-tabs">
                <div class="nav-tab active" onclick="showModule('dashboard')">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </div>
                <div class="nav-tab" onclick="showModule('crm')">
                    <i class="fas fa-users"></i> CRM
                </div>
                <div class="nav-tab" onclick="showModule('inventory')">
                    <i class="fas fa-boxes"></i> Inventory
                </div>
                <div class="nav-tab" onclick="showModule('orders')">
                    <i class="fas fa-shopping-cart"></i> Orders
                </div>
                <div class="nav-tab" onclick="showModule('finance')">
                    <i class="fas fa-chart-pie"></i> Finance
                </div>
                <div class="nav-tab" onclick="showModule('projects')">
                    <i class="fas fa-project-diagram"></i> Projects
                </div>
                <div class="nav-tab" onclick="showModule('employees')">
                    <i class="fas fa-user-tie"></i> Employees
                </div>
                <div class="nav-tab" onclick="showModule('suppliers')">
                    <i class="fas fa-truck"></i> Suppliers
                </div>
                <div class="nav-tab" onclick="showModule('reports')">
                    <i class="fas fa-chart-bar"></i> Reports
                </div>
                <button class="nav-tab" id="addUserNavBtn" onclick="showAddUserForm()" style="display: none; background: rgba(40, 167, 69, 0.1); color: #28a745; border: 2px solid #28a745;">
                    <i class="fas fa-user-plus"></i> Add User
                </button>
                <button class="logout-btn" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </nav>
        </div>

        <!-- Content Area -->
        <div class="content-area">
            <!-- Dashboard Module -->
            <div id="dashboard" class="module-section active">
                <h2 class="section-title">
                    <i class="fas fa-tachometer-alt"></i>
                    Dashboard Overview
                </h2>

                <!-- Quick Stats -->
                <div class="dashboard-grid">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: linear-gradient(135deg, #667eea, #764ba2);">
                                <i class="fas fa-dollar-sign"></i>
                            </div>
                            <div>
                                <div class="card-title">Total Revenue</div>
                                <div class="card-value">$124,580</div>
                                <div class="card-change">+12.5% from last month</div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: linear-gradient(135deg, #28a745, #20c997);">
                                <i class="fas fa-users"></i>
                            </div>
                            <div>
                                <div class="card-title">Active Customers</div>
                                <div class="card-value">1,247</div>
                                <div class="card-change">+8.3% from last month</div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: linear-gradient(135deg, #ffc107, #fd7e14);">
                                <i class="fas fa-shopping-cart"></i>
                            </div>
                            <div>
                                <div class="card-title">Orders</div>
                                <div class="card-value">892</div>
                                <div class="card-change">+15.2% from last month</div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: linear-gradient(135deg, #dc3545, #e83e8c);">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div>
                                <div class="card-title">Growth Rate</div>
                                <div class="card-value">18.7%</div>
                                <div class="card-change">+2.1% from last month</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <div class="quick-action" onclick="showModule('crm')">
                        <i class="fas fa-user-plus"></i>
                        <h3>Add Customer</h3>
                        <p>Create new customer profile</p>
                    </div>
                    <div class="quick-action" onclick="showModule('inventory')">
                        <i class="fas fa-plus-circle"></i>
                        <h3>Add Product</h3>
                        <p>Add new inventory item</p>
                    </div>
                    <div class="quick-action" onclick="showModule('orders')">
                        <i class="fas fa-shopping-cart"></i>
                        <h3>Create Order</h3>
                        <p>Process new order</p>
                    </div>
                    <div class="quick-action" onclick="showModule('finance')">
                        <i class="fas fa-file-invoice"></i>
                        <h3>Add Transaction</h3>
                        <p>Record financial transaction</p>
                    </div>
                    <div class="quick-action" onclick="showModule('projects')">
                        <i class="fas fa-tasks"></i>
                        <h3>New Project</h3>
                        <p>Start new project</p>
                    </div>
                    <div class="quick-action" onclick="showModule('employees')">
                        <i class="fas fa-user-tie"></i>
                        <h3>Add Employee</h3>
                        <p>Hire new employee</p>
                    </div>
                </div>

                <!-- Advanced Analytics -->
                <div class="dashboard-grid" style="margin-top: 30px;">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: linear-gradient(135deg, #17a2b8, #20c997);">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <div>
                                <div class="card-title">Low Stock Alerts</div>
                                <div class="card-value" id="low-stock-count">0</div>
                                <div class="card-change">Items need reorder</div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: linear-gradient(135deg, #fd7e14, #e83e8c);">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div>
                                <div class="card-title">Pending Orders</div>
                                <div class="card-value" id="pending-orders-count">0</div>
                                <div class="card-change">Awaiting processing</div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: linear-gradient(135deg, #6f42c1, #e83e8c);">
                                <i class="fas fa-users"></i>
                            </div>
                            <div>
                                <div class="card-title">Top Customers</div>
                                <div class="card-value" id="top-customers-count">0</div>
                                <div class="card-change">High-value clients</div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: linear-gradient(135deg, #28a745, #20c997);">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div>
                                <div class="card-title">Growth Rate</div>
                                <div class="card-value" id="growth-rate">0%</div>
                                <div class="card-change">Monthly increase</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Charts -->
                <div class="chart-container">
                    <h3 style="margin-bottom: 20px; color: #333;">Revenue Analytics</h3>
                    <div class="chart-placeholder">
                        <i class="fas fa-chart-area" style="margin-right: 10px;"></i>
                        Interactive Revenue Chart - Monthly Trends
                    </div>
                </div>
            </div>

            <!-- CRM Module -->
            <div id="crm" class="module-section">
                <h2 class="section-title">
                    <i class="fas fa-users"></i>
                    Customer Relationship Management
                </h2>

                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Customer Name</label>
                        <input type="text" id="customer-name" class="form-input" placeholder="Enter customer name">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" id="customer-email" class="form-input" placeholder="Enter email address">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Phone</label>
                        <input type="tel" id="customer-phone" class="form-input" placeholder="Enter phone number">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Company</label>
                        <input type="text" id="customer-company" class="form-input" placeholder="Enter company name">
                    </div>
                </div>

                <button class="btn btn-primary" onclick="addCustomer()">
                    <i class="fas fa-plus"></i> Add Customer
                </button>

                <div class="table-container" style="margin-top: 30px;">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Customer Name</th>
                                <th>Email</th>
                                <th>Phone</th>
                                <th>Company</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>John Smith</td>
                                <td>john@example.com</td>
                                <td>+1 (555) 123-4567</td>
                                <td>Tech Solutions Inc.</td>
                                <td><span class="status-badge status-active">Active</span></td>
                                <td>
                                    <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-danger" style="padding: 6px 12px; font-size: 0.8rem;">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Sarah Johnson</td>
                                <td>sarah@example.com</td>
                                <td>+1 (555) 987-6543</td>
                                <td>Digital Marketing Co.</td>
                                <td><span class="status-badge status-active">Active</span></td>
                                <td>
                                    <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-danger" style="padding: 6px 12px; font-size: 0.8rem;">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Mike Wilson</td>
                                <td>mike@example.com</td>
                                <td>+1 (555) 456-7890</td>
                                <td>Startup Ventures</td>
                                <td><span class="status-badge status-pending">Pending</span></td>
                                <td>
                                    <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-danger" style="padding: 6px 12px; font-size: 0.8rem;">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Inventory Module -->
            <div id="inventory" class="module-section">
                <h2 class="section-title">
                    <i class="fas fa-boxes"></i>
                    Inventory Management
                </h2>

                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Product Name</label>
                        <input type="text" id="product-name" class="form-input" placeholder="Enter product name">
                    </div>
                    <div class="form-group">
                        <label class="form-label">SKU</label>
                        <input type="text" id="product-sku" class="form-input" placeholder="Enter SKU">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Category</label>
                        <select id="product-category" class="form-input">
                            <option>Electronics</option>
                            <option>Clothing</option>
                            <option>Books</option>
                            <option>Home & Garden</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Price</label>
                        <input type="number" id="product-price" class="form-input" placeholder="Enter price">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Quantity</label>
                        <input type="number" id="product-quantity" class="form-input" placeholder="Enter quantity">
                    </div>
                </div>

                <button class="btn btn-primary" onclick="addProduct()">
                    <i class="fas fa-plus"></i> Add Product
                </button>

                <div class="table-container" style="margin-top: 30px;">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Product Name</th>
                                <th>SKU</th>
                                <th>Category</th>
                                <th>Price</th>
                                <th>Quantity</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Laptop Pro X1</td>
                                <td>LP-001</td>
                                <td>Electronics</td>
                                <td>$1,299.00</td>
                                <td>45</td>
                                <td><span class="status-badge status-active">In Stock</span></td>
                                <td>
                                    <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;" onclick="editProduct(${product.id})">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-danger" style="padding: 6px 12px; font-size: 0.8rem;" onclick="deleteProduct(${product.id})">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Wireless Headphones</td>
                                <td>WH-002</td>
                                <td>Electronics</td>
                                <td>$89.99</td>
                                <td>12</td>
                                <td><span class="status-badge status-pending">Low Stock</span></td>
                                <td>
                                    <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;" onclick="editProduct(${product.id})">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-danger" style="padding: 6px 12px; font-size: 0.8rem;" onclick="deleteProduct(${product.id})">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Designer T-Shirt</td>
                                <td>TS-003</td>
                                <td>Clothing</td>
                                <td>$29.99</td>
                                <td>0</td>
                                <td><span class="status-badge status-inactive">Out of Stock</span></td>
                                <td>
                                    <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;" onclick="editProduct(${product.id})">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-danger" style="padding: 6px 12px; font-size: 0.8rem;" onclick="deleteProduct(${product.id})">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Orders Module -->
            <div id="orders" class="module-section">
                <h2 class="section-title">
                    <i class="fas fa-shopping-cart"></i>
                    Order Management
                </h2>

                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Customer</label>
                        <select id="order-customer" class="form-input">
                            <option value="">Select Customer</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Product</label>
                        <select id="order-product" class="form-input">
                            <option value="">Select Product</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Quantity</label>
                        <input type="number" id="order-quantity" class="form-input" placeholder="Enter quantity" min="1">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Status</label>
                        <select id="order-status" class="form-input">
                            <option>Pending</option>
                            <option>Processing</option>
                            <option>Shipped</option>
                            <option>Delivered</option>
                            <option>Cancelled</option>
                        </select>
                    </div>
                </div>

                <button class="btn btn-primary" onclick="addOrder()">
                    <i class="fas fa-plus"></i> Create Order
                </button>

                <div class="table-container" style="margin-top: 30px;">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Customer</th>
                                <th>Date</th>
                                <th>Items</th>
                                <th>Total</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>#1001</td>
                                <td>John Smith</td>
                                <td>2024-01-15</td>
                                <td>2x Laptop Pro X1</td>
                                <td>$2,598.00</td>
                                <td><span class="status-badge status-active">Delivered</span></td>
                                <td>
                                    <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;" onclick="viewOrder(1)">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-warning" style="padding: 6px 12px; font-size: 0.8rem;" onclick="editOrder(1)">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-danger" style="padding: 6px 12px; font-size: 0.8rem;" onclick="deleteOrder(1)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>#1002</td>
                                <td>Sarah Johnson</td>
                                <td>2024-01-14</td>
                                <td>1x Wireless Headphones</td>
                                <td>$89.99</td>
                                <td><span class="status-badge status-pending">Shipped</span></td>
                                <td>
                                    <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;" onclick="viewOrder(2)">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-warning" style="padding: 6px 12px; font-size: 0.8rem;" onclick="editOrder(2)">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-danger" style="padding: 6px 12px; font-size: 0.8rem;" onclick="deleteOrder(2)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>#1003</td>
                                <td>John Smith</td>
                                <td>2024-01-13</td>
                                <td>1x Designer T-Shirt</td>
                                <td>$29.99</td>
                                <td><span class="status-badge status-inactive">Pending</span></td>
                                <td>
                                    <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;" onclick="viewOrder(3)">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-warning" style="padding: 6px 12px; font-size: 0.8rem;" onclick="editOrder(3)">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-danger" style="padding: 6px 12px; font-size: 0.8rem;" onclick="deleteOrder(3)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Finance Module -->
            <div id="finance" class="module-section">
                <h2 class="section-title">
                    <i class="fas fa-chart-pie"></i>
                    Financial Management
                </h2>

                <div class="dashboard-grid">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: linear-gradient(135deg, #28a745, #20c997);">
                                <i class="fas fa-arrow-up"></i>
                            </div>
                            <div>
                                <div class="card-title">Income</div>
                                <div class="card-value">$89,450</div>
                                <div class="card-change">+15.3% this month</div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: linear-gradient(135deg, #dc3545, #e83e8c);">
                                <i class="fas fa-arrow-down"></i>
                            </div>
                            <div>
                                <div class="card-title">Expenses</div>
                                <div class="card-value">$32,180</div>
                                <div class="card-change">+8.7% this month</div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: linear-gradient(135deg, #667eea, #764ba2);">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div>
                                <div class="card-title">Profit</div>
                                <div class="card-value">$57,270</div>
                                <div class="card-change">+18.2% this month</div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: linear-gradient(135deg, #ffc107, #fd7e14);">
                                <i class="fas fa-percentage"></i>
                            </div>
                            <div>
                                <div class="card-title">Margin</div>
                                <div class="card-value">64.0%</div>
                                <div class="card-change">+2.1% this month</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Transaction Type</label>
                        <select id="transaction-type" class="form-input">
                            <option>Income</option>
                            <option>Expense</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Amount</label>
                        <input type="number" id="transaction-amount" class="form-input" placeholder="Enter amount">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Category</label>
                        <select id="transaction-category" class="form-input">
                            <option>Sales</option>
                            <option>Services</option>
                            <option>Utilities</option>
                            <option>Rent</option>
                            <option>Salaries</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Description</label>
                        <input type="text" id="transaction-description" class="form-input" placeholder="Enter description">
                    </div>
                </div>

                <button class="btn btn-primary" onclick="addTransaction()">
                    <i class="fas fa-plus"></i> Add Transaction
                </button>

                <div class="table-container" style="margin-top: 30px;">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Type</th>
                                <th>Category</th>
                                <th>Description</th>
                                <th>Amount</th>
                                <th>Balance</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>2024-01-15</td>
                                <td><span class="status-badge status-active">Income</span></td>
                                <td>Sales</td>
                                <td>Product sales</td>
                                <td style="color: #28a745;">+$12,450</td>
                                <td>$89,450</td>
                            </tr>
                            <tr>
                                <td>2024-01-14</td>
                                <td><span class="status-badge status-inactive">Expense</span></td>
                                <td>Utilities</td>
                                <td>Electricity bill</td>
                                <td style="color: #dc3545;">-$2,180</td>
                                <td>$76,970</td>
                            </tr>
                            <tr>
                                <td>2024-01-13</td>
                                <td><span class="status-badge status-active">Income</span></td>
                                <td>Services</td>
                                <td>Consulting fee</td>
                                <td style="color: #28a745;">+$8,900</td>
                                <td>$79,150</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Projects Module -->
            <div id="projects" class="module-section">
                <h2 class="section-title">
                    <i class="fas fa-project-diagram"></i>
                    Project Management
                </h2>

                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Project Name</label>
                        <input type="text" id="project-name" class="form-input" placeholder="Enter project name">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Client</label>
                        <input type="text" id="project-client" class="form-input" placeholder="Enter client name">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Start Date</label>
                        <input type="date" id="project-start" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">End Date</label>
                        <input type="date" id="project-end" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Status</label>
                        <select id="project-status" class="form-input">
                            <option>Planning</option>
                            <option>In Progress</option>
                            <option>Review</option>
                            <option>Completed</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Budget</label>
                        <input type="number" id="project-budget" class="form-input" placeholder="Enter budget">
                    </div>
                </div>

                <button class="btn btn-primary" onclick="addProject()">
                    <i class="fas fa-plus"></i> Create Project
                </button>

                <div class="table-container" style="margin-top: 30px;">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Project Name</th>
                                <th>Client</th>
                                <th>Start Date</th>
                                <th>End Date</th>
                                <th>Progress</th>
                                <th>Status</th>
                                <th>Budget</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Website Redesign</td>
                                <td>Tech Solutions Inc.</td>
                                <td>2024-01-01</td>
                                <td>2024-02-15</td>
                                <td>75%</td>
                                <td><span class="status-badge status-active">In Progress</span></td>
                                <td>$15,000</td>
                                <td>
                                    <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-warning" style="padding: 6px 12px; font-size: 0.8rem;">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Mobile App Development</td>
                                <td>Startup Ventures</td>
                                <td>2024-01-10</td>
                                <td>2024-03-30</td>
                                <td>25%</td>
                                <td><span class="status-badge status-pending">Planning</span></td>
                                <td>$25,000</td>
                                <td>
                                    <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-warning" style="padding: 6px 12px; font-size: 0.8rem;">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>E-commerce Platform</td>
                                <td>Digital Marketing Co.</td>
                                <td>2023-12-01</td>
                                <td>2024-01-31</td>
                                <td>100%</td>
                                <td><span class="status-badge status-active">Completed</span></td>
                                <td>$30,000</td>
                                <td>
                                    <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-warning" style="padding: 6px 12px; font-size: 0.8rem;">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Employees Module -->
            <div id="employees" class="module-section">
                <h2 class="section-title">
                    <i class="fas fa-user-tie"></i>
                    Employee Management
                </h2>

                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Employee Name</label>
                        <input type="text" id="employee-name" class="form-input" placeholder="Enter employee name">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" id="employee-email" class="form-input" placeholder="Enter email address">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Position</label>
                        <select id="employee-position" class="form-input">
                            <option>Senior Developer</option>
                            <option>Junior Developer</option>
                            <option>Project Manager</option>
                            <option>UI/UX Designer</option>
                            <option>Marketing Manager</option>
                            <option>Sales Representative</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Department</label>
                        <select id="employee-department" class="form-input">
                            <option>IT</option>
                            <option>Management</option>
                            <option>Design</option>
                            <option>Marketing</option>
                            <option>Sales</option>
                            <option>HR</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Salary</label>
                        <input type="number" id="employee-salary" class="form-input" placeholder="Enter salary">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Join Date</label>
                        <input type="date" id="employee-join-date" class="form-input">
                    </div>
                </div>

                <button class="btn btn-primary" onclick="addEmployee()">
                    <i class="fas fa-plus"></i> Add Employee
                </button>

                <div class="table-container" style="margin-top: 30px;">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Employee Name</th>
                                <th>Email</th>
                                <th>Position</th>
                                <th>Department</th>
                                <th>Salary</th>
                                <th>Join Date</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>John Doe</td>
                                <td>john.doe@webveda.com</td>
                                <td>Senior Developer</td>
                                <td>IT</td>
                                <td>$75,000</td>
                                <td>2023-01-15</td>
                                <td><span class="status-badge status-active">Active</span></td>
                                <td>
                                    <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;" onclick="editEmployee(1)">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-warning" style="padding: 6px 12px; font-size: 0.8rem;" onclick="viewEmployee(1)">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-danger" style="padding: 6px 12px; font-size: 0.8rem;" onclick="deleteEmployee(1)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Jane Smith</td>
                                <td>jane.smith@webveda.com</td>
                                <td>Project Manager</td>
                                <td>Management</td>
                                <td>$65,000</td>
                                <td>2023-03-20</td>
                                <td><span class="status-badge status-active">Active</span></td>
                                <td>
                                    <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;" onclick="editEmployee(2)">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-warning" style="padding: 6px 12px; font-size: 0.8rem;" onclick="viewEmployee(2)">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-danger" style="padding: 6px 12px; font-size: 0.8rem;" onclick="deleteEmployee(2)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Mike Johnson</td>
                                <td>mike.johnson@webveda.com</td>
                                <td>UI/UX Designer</td>
                                <td>Design</td>
                                <td>$60,000</td>
                                <td>2023-06-10</td>
                                <td><span class="status-badge status-active">Active</span></td>
                                <td>
                                    <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;" onclick="editEmployee(3)">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-warning" style="padding: 6px 12px; font-size: 0.8rem;" onclick="viewEmployee(3)">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-danger" style="padding: 6px 12px; font-size: 0.8rem;" onclick="deleteEmployee(3)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Suppliers Module -->
            <div id="suppliers" class="module-section">
                <h2 class="section-title">
                    <i class="fas fa-truck"></i>
                    Supplier Management
                </h2>

                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Supplier Name</label>
                        <input type="text" id="supplier-name" class="form-input" placeholder="Enter supplier name">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" id="supplier-email" class="form-input" placeholder="Enter email address">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Phone</label>
                        <input type="tel" id="supplier-phone" class="form-input" placeholder="Enter phone number">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Category</label>
                        <select id="supplier-category" class="form-input">
                            <option>Electronics</option>
                            <option>Audio Equipment</option>
                            <option>Clothing</option>
                            <option>Office Supplies</option>
                            <option>Furniture</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Rating</label>
                        <select id="supplier-rating" class="form-input">
                            <option>5.0</option>
                            <option>4.5</option>
                            <option>4.0</option>
                            <option>3.5</option>
                            <option>3.0</option>
                        </select>
                    </div>
                </div>

                <button class="btn btn-primary" onclick="addSupplier()">
                    <i class="fas fa-plus"></i> Add Supplier
                </button>

                <div class="table-container" style="margin-top: 30px;">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Supplier Name</th>
                                <th>Email</th>
                                <th>Phone</th>
                                <th>Category</th>
                                <th>Rating</th>
                                <th>Total Orders</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>TechCorp</td>
                                <td>contact@techcorp.com</td>
                                <td>+1 (555) 111-1111</td>
                                <td>Electronics</td>
                                <td>4.5 ⭐</td>
                                <td>25</td>
                                <td>
                                    <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;" onclick="editSupplier(1)">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-warning" style="padding: 6px 12px; font-size: 0.8rem;" onclick="viewSupplier(1)">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-danger" style="padding: 6px 12px; font-size: 0.8rem;" onclick="deleteSupplier(1)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>AudioMax</td>
                                <td>sales@audiomax.com</td>
                                <td>+1 (555) 222-2222</td>
                                <td>Audio Equipment</td>
                                <td>4.2 ⭐</td>
                                <td>18</td>
                                <td>
                                    <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;" onclick="editSupplier(2)">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-warning" style="padding: 6px 12px; font-size: 0.8rem;" onclick="viewSupplier(2)">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-danger" style="padding: 6px 12px; font-size: 0.8rem;" onclick="deleteSupplier(2)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>FashionCo</td>
                                <td>orders@fashionco.com</td>
                                <td>+1 (555) 333-3333</td>
                                <td>Clothing</td>
                                <td>4.0 ⭐</td>
                                <td>12</td>
                                <td>
                                    <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;" onclick="editSupplier(3)">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-warning" style="padding: 6px 12px; font-size: 0.8rem;" onclick="viewSupplier(3)">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-danger" style="padding: 6px 12px; font-size: 0.8rem;" onclick="deleteSupplier(3)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Reports Module -->
            <div id="reports" class="module-section">
                <h2 class="section-title">
                    <i class="fas fa-chart-bar"></i>
                    Analytics & Reports
                </h2>

                <div class="dashboard-grid">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: linear-gradient(135deg, #667eea, #764ba2);">
                                <i class="fas fa-chart-area"></i>
                            </div>
                            <div>
                                <div class="card-title">Sales Report</div>
                                <div class="card-value">Monthly</div>
                                <div class="card-change">Generate report</div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: linear-gradient(135deg, #28a745, #20c997);">
                                <i class="fas fa-chart-pie"></i>
                            </div>
                            <div>
                                <div class="card-title">Financial Report</div>
                                <div class="card-value">Quarterly</div>
                                <div class="card-change">Generate report</div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: linear-gradient(135deg, #ffc107, #fd7e14);">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div>
                                <div class="card-title">Performance Report</div>
                                <div class="card-value">Annual</div>
                                <div class="card-change">Generate report</div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: linear-gradient(135deg, #dc3545, #e83e8c);">
                                <i class="fas fa-chart-bar"></i>
                            </div>
                            <div>
                                <div class="card-title">Inventory Report</div>
                                <div class="card-value">Weekly</div>
                                <div class="card-change">Generate report</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="chart-container">
                    <h3 style="margin-bottom: 20px; color: #333;">Sales Analytics</h3>
                    <div class="chart-placeholder">
                        <i class="fas fa-chart-bar" style="margin-right: 10px;"></i>
                        Interactive Sales Chart - Monthly Performance
                    </div>
                </div>

                <div class="chart-container">
                    <h3 style="margin-bottom: 20px; color: #333;">Customer Analytics</h3>
                    <div class="chart-placeholder">
                        <i class="fas fa-chart-pie" style="margin-right: 10px;"></i>
                        Customer Demographics and Behavior Analysis
                    </div>
                </div>

                <div style="display: flex; gap: 15px; margin-top: 30px;">
                    <button class="btn btn-primary" onclick="exportReport('pdf')">
                        <i class="fas fa-download"></i> Export PDF
                    </button>
                    <button class="btn btn-success" onclick="exportReport('excel')">
                        <i class="fas fa-file-excel"></i> Export Excel
                    </button>
                    <button class="btn btn-warning" onclick="generateReport('Performance')">
                        <i class="fas fa-share"></i> Share Report
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDp5FYfSPFgQKoIjbREjN5qtKt4cennknA",
            authDomain: "admin-webveda.firebaseapp.com",
            projectId: "admin-webveda",
            storageBucket: "admin-webveda.firebasestorage.app",
            messagingSenderId: "332739132811",
            appId: "1:332739132811:web:6f5452e21df87db2c7838e"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        const auth = firebase.auth();

        // Global data storage (will be replaced with Firebase data)
        let customers = [];
        let products = [];
        let transactions = [];
        let projects = [];
        let orders = [];
        let employees = [];
        let suppliers = [];
        let users = [];

        // Firebase Database Functions
        async function initializeFirebaseData() {
            try {
                // Load initial data from Firebase
                await Promise.all([
                    loadCustomersFromFirebase(),
                    loadProductsFromFirebase(),
                    loadTransactionsFromFirebase(),
                    loadProjectsFromFirebase(),
                    loadOrdersFromFirebase(),
                    loadEmployeesFromFirebase(),
                    loadSuppliersFromFirebase(),
                    loadUsersFromFirebase()
                ]);
                
                // Update UI after data is loaded
                updateAllTables();
                updateDashboardStats();
                showNotification('Data loaded successfully!', 'success');
            } catch (error) {
                console.error('Error loading data:', error);
                showNotification('Error loading data from database', 'error');
            }
        }

        // Customer Firebase Functions
        async function loadCustomersFromFirebase() {
            try {
                const snapshot = await db.collection('customers').get();
                customers = snapshot.docs.map(doc => ({
                    id: doc.id,
                    ...doc.data()
                }));
            } catch (error) {
                console.error('Error loading customers:', error);
            }
        }

        async function addCustomerToFirebase(customerData) {
            try {
                const docRef = await db.collection('customers').add({
                    ...customerData,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                return docRef.id;
            } catch (error) {
                console.error('Error adding customer:', error);
                throw error;
            }
        }

        async function updateCustomerInFirebase(id, customerData) {
            try {
                await db.collection('customers').doc(id).update({
                    ...customerData,
                    updatedAt: firebase.firestore.FieldValue.serverTimestamp()
                });
            } catch (error) {
                console.error('Error updating customer:', error);
                throw error;
            }
        }

        async function deleteCustomerFromFirebase(id) {
            try {
                await db.collection('customers').doc(id).delete();
            } catch (error) {
                console.error('Error deleting customer:', error);
                throw error;
            }
        }

        // Product Firebase Functions
        async function loadProductsFromFirebase() {
            try {
                const snapshot = await db.collection('products').get();
                products = snapshot.docs.map(doc => ({
                    id: doc.id,
                    ...doc.data()
                }));
            } catch (error) {
                console.error('Error loading products:', error);
            }
        }

        async function addProductToFirebase(productData) {
            try {
                const docRef = await db.collection('products').add({
                    ...productData,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                return docRef.id;
            } catch (error) {
                console.error('Error adding product:', error);
                throw error;
            }
        }

        async function updateProductInFirebase(id, productData) {
            try {
                await db.collection('products').doc(id).update({
                    ...productData,
                    updatedAt: firebase.firestore.FieldValue.serverTimestamp()
                });
            } catch (error) {
                console.error('Error updating product:', error);
                throw error;
            }
        }

        async function deleteProductFromFirebase(id) {
            try {
                await db.collection('products').doc(id).delete();
            } catch (error) {
                console.error('Error deleting product:', error);
                throw error;
            }
        }

        // Transaction Firebase Functions
        async function loadTransactionsFromFirebase() {
            try {
                const snapshot = await db.collection('transactions').orderBy('date', 'desc').get();
                transactions = snapshot.docs.map(doc => ({
                    id: doc.id,
                    ...doc.data()
                }));
            } catch (error) {
                console.error('Error loading transactions:', error);
            }
        }

        async function addTransactionToFirebase(transactionData) {
            try {
                const docRef = await db.collection('transactions').add({
                    ...transactionData,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                return docRef.id;
            } catch (error) {
                console.error('Error adding transaction:', error);
                throw error;
            }
        }

        // Project Firebase Functions
        async function loadProjectsFromFirebase() {
            try {
                const snapshot = await db.collection('projects').get();
                projects = snapshot.docs.map(doc => ({
                    id: doc.id,
                    ...doc.data()
                }));
            } catch (error) {
                console.error('Error loading projects:', error);
            }
        }

        async function addProjectToFirebase(projectData) {
            try {
                const docRef = await db.collection('projects').add({
                    ...projectData,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                return docRef.id;
            } catch (error) {
                console.error('Error adding project:', error);
                throw error;
            }
        }

        // Order Firebase Functions
        async function loadOrdersFromFirebase() {
            try {
                const snapshot = await db.collection('orders').orderBy('date', 'desc').get();
                orders = snapshot.docs.map(doc => ({
                    id: doc.id,
                    ...doc.data()
                }));
            } catch (error) {
                console.error('Error loading orders:', error);
            }
        }

        async function addOrderToFirebase(orderData) {
            try {
                const docRef = await db.collection('orders').add({
                    ...orderData,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                return docRef.id;
            } catch (error) {
                console.error('Error adding order:', error);
                throw error;
            }
        }

        // Employee Firebase Functions
        async function loadEmployeesFromFirebase() {
            try {
                const snapshot = await db.collection('employees').get();
                employees = snapshot.docs.map(doc => ({
                    id: doc.id,
                    ...doc.data()
                }));
            } catch (error) {
                console.error('Error loading employees:', error);
            }
        }

        async function addEmployeeToFirebase(employeeData) {
            try {
                const docRef = await db.collection('employees').add({
                    ...employeeData,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                return docRef.id;
            } catch (error) {
                console.error('Error adding employee:', error);
                throw error;
            }
        }

        // Supplier Firebase Functions
        async function loadSuppliersFromFirebase() {
            try {
                const snapshot = await db.collection('suppliers').get();
                suppliers = snapshot.docs.map(doc => ({
                    id: doc.id,
                    ...doc.data()
                }));
            } catch (error) {
                console.error('Error loading suppliers:', error);
            }
        }

        async function addSupplierToFirebase(supplierData) {
            try {
                const docRef = await db.collection('suppliers').add({
                    ...supplierData,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                return docRef.id;
            } catch (error) {
                console.error('Error adding supplier:', error);
                throw error;
            }
        }

        // User Firebase Functions
        async function loadUsersFromFirebase() {
            try {
                const snapshot = await db.collection('users').get();
                users = snapshot.docs.map(doc => ({
                    id: doc.id,
                    ...doc.data()
                }));
                
                // Add default admin user if no users exist
                if (users.length === 0) {
                    await addUserToFirebase({
                        username: 'gitz.tech',
                        password: 'Gitez.Maha@Ubi9186',
                        role: 'admin',
                        name: 'Admin User',
                        email: 'admin@webveda.com'
                    });
                    users = [{
                        username: 'gitz.tech',
                        password: 'Gitez.Maha@Ubi9186',
                        role: 'admin',
                        name: 'Admin User',
                        email: 'admin@webveda.com'
                    }];
                }
            } catch (error) {
                console.error('Error loading users:', error);
            }
        }

        async function addUserToFirebase(userData) {
            try {
                const docRef = await db.collection('users').add({
                    ...userData,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                return docRef.id;
            } catch (error) {
                console.error('Error adding user:', error);
                throw error;
            }
        }

        // Update all tables function
        function updateAllTables() {
            updateCustomerTable();
            updateProductTable();
            updateTransactionTable();
            updateProjectTable();
            updateOrderTable();
            updateEmployeeTable();
            updateSupplierTable();
            populateOrderDropdowns();
        }

        // CRM Functions
        async function addCustomer() {
            const name = document.getElementById('customer-name').value;
            const email = document.getElementById('customer-email').value;
            const phone = document.getElementById('customer-phone').value;
            const company = document.getElementById('customer-company').value;

            if (!name || !email || !phone) {
                alert('Please fill in all required fields');
                return;
            }

            const newCustomer = {
                name: name,
                email: email,
                phone: phone,
                company: company,
                status: 'Active',
                joinDate: new Date().toISOString().split('T')[0],
                totalSpent: 0
            };

            try {
                await addCustomerToFirebase(newCustomer);
                await loadCustomersFromFirebase();
                updateCustomerTable();
                clearCustomerForm();
                showNotification('Customer added successfully!', 'success');
            } catch (error) {
                showNotification('Error adding customer to database', 'error');
            }
        }

        function updateCustomerTable() {
            const tbody = document.querySelector('#crm .table tbody');
            tbody.innerHTML = '';

            customers.forEach(customer => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${customer.name}</td>
                    <td>${customer.email}</td>
                    <td>${customer.phone}</td>
                    <td>${customer.company}</td>
                    <td><span class="status-badge status-${customer.status.toLowerCase()}">${customer.status}</span></td>
                    <td>
                        <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;" onclick="editCustomer(${customer.id})">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-danger" style="padding: 6px 12px; font-size: 0.8rem;" onclick="deleteCustomer(${customer.id})">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function deleteCustomer(id) {
            if (confirm('Are you sure you want to delete this customer?')) {
                customers = customers.filter(customer => customer.id !== id);
                updateCustomerTable();
                showNotification('Customer deleted successfully!', 'success');
            }
        }

        function clearCustomerForm() {
            document.getElementById('customer-name').value = '';
            document.getElementById('customer-email').value = '';
            document.getElementById('customer-phone').value = '';
            document.getElementById('customer-company').value = '';
        }

        // Inventory Functions
        function addProduct() {
            const name = document.getElementById('product-name').value;
            const sku = document.getElementById('product-sku').value;
            const category = document.getElementById('product-category').value;
            const price = parseFloat(document.getElementById('product-price').value);
            const quantity = parseInt(document.getElementById('product-quantity').value);

            if (!name || !sku || !category || !price || !quantity) {
                alert('Please fill in all required fields');
                return;
            }

            let status = 'In Stock';
            if (quantity === 0) status = 'Out of Stock';
            else if (quantity < 20) status = 'Low Stock';

            const newProduct = {
                id: products.length + 1,
                name: name,
                sku: sku,
                category: category,
                price: price,
                quantity: quantity,
                status: status
            };

            products.push(newProduct);
            updateProductTable();
            clearProductForm();
            showNotification('Product added successfully!', 'success');
        }

        function updateProductTable() {
            const tbody = document.querySelector('#inventory .table tbody');
            tbody.innerHTML = '';

            products.forEach(product => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${product.name}</td>
                    <td>${product.sku}</td>
                    <td>${product.category}</td>
                    <td>$${product.price.toFixed(2)}</td>
                    <td>${product.quantity}</td>
                    <td><span class="status-badge status-${product.status.toLowerCase().replace(' ', '')}">${product.status}</span></td>
                    <td>
                        <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;" onclick="editProduct(${product.id})">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-danger" style="padding: 6px 12px; font-size: 0.8rem;" onclick="deleteProduct(${product.id})">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function deleteProduct(id) {
            if (confirm('Are you sure you want to delete this product?')) {
                products = products.filter(product => product.id !== id);
                updateProductTable();
                showNotification('Product deleted successfully!', 'success');
            }
        }

        function clearProductForm() {
            document.getElementById('product-name').value = '';
            document.getElementById('product-sku').value = '';
            document.getElementById('product-category').value = '';
            document.getElementById('product-price').value = '';
            document.getElementById('product-quantity').value = '';
        }

        // Finance Functions
        function addTransaction() {
            const type = document.getElementById('transaction-type').value;
            const amount = parseFloat(document.getElementById('transaction-amount').value);
            const category = document.getElementById('transaction-category').value;
            const description = document.getElementById('transaction-description').value;

            if (!type || !amount || !category || !description) {
                alert('Please fill in all required fields');
                return;
            }

            const transactionAmount = type === 'Income' ? amount : -amount;
            const lastBalance = transactions.length > 0 ? transactions[0].balance : 0;
            const newBalance = lastBalance + transactionAmount;

            const newTransaction = {
                id: transactions.length + 1,
                date: new Date().toISOString().split('T')[0],
                type: type,
                category: category,
                description: description,
                amount: transactionAmount,
                balance: newBalance
            };

            transactions.unshift(newTransaction);
            updateTransactionTable();
            clearTransactionForm();
            updateFinancialCards();
            showNotification('Transaction added successfully!', 'success');
        }

        function updateTransactionTable() {
            const tbody = document.querySelector('#finance .table tbody');
            tbody.innerHTML = '';

            transactions.forEach(transaction => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${transaction.date}</td>
                    <td><span class="status-badge status-${transaction.type.toLowerCase()}">${transaction.type}</span></td>
                    <td>${transaction.category}</td>
                    <td>${transaction.description}</td>
                    <td style="color: ${transaction.amount > 0 ? '#28a745' : '#dc3545'};">${transaction.amount > 0 ? '+' : ''}$${Math.abs(transaction.amount).toLocaleString()}</td>
                    <td>$${transaction.balance.toLocaleString()}</td>
                `;
                tbody.appendChild(row);
            });
        }

        function updateFinancialCards() {
            const income = transactions.filter(t => t.type === 'Income').reduce((sum, t) => sum + t.amount, 0);
            const expenses = Math.abs(transactions.filter(t => t.type === 'Expense').reduce((sum, t) => sum + t.amount, 0));
            const profit = income - expenses;
            const margin = income > 0 ? ((profit / income) * 100).toFixed(1) : 0;

            document.querySelector('#finance .card:nth-child(1) .card-value').textContent = '$' + income.toLocaleString();
            document.querySelector('#finance .card:nth-child(2) .card-value').textContent = '$' + expenses.toLocaleString();
            document.querySelector('#finance .card:nth-child(3) .card-value').textContent = '$' + profit.toLocaleString();
            document.querySelector('#finance .card:nth-child(4) .card-value').textContent = margin + '%';
        }

        function clearTransactionForm() {
            document.getElementById('transaction-type').value = '';
            document.getElementById('transaction-amount').value = '';
            document.getElementById('transaction-category').value = '';
            document.getElementById('transaction-description').value = '';
        }

        // Project Functions
        function addProject() {
            const name = document.getElementById('project-name').value;
            const client = document.getElementById('project-client').value;
            const startDate = document.getElementById('project-start').value;
            const endDate = document.getElementById('project-end').value;
            const status = document.getElementById('project-status').value;
            const budget = parseFloat(document.getElementById('project-budget').value);

            if (!name || !client || !startDate || !endDate || !status || !budget) {
                alert('Please fill in all required fields');
                return;
            }

            const newProject = {
                id: projects.length + 1,
                name: name,
                client: client,
                startDate: startDate,
                endDate: endDate,
                progress: 0,
                status: status,
                budget: budget
            };

            projects.push(newProject);
            updateProjectTable();
            clearProjectForm();
            showNotification('Project created successfully!', 'success');
        }

        function updateProjectTable() {
            const tbody = document.querySelector('#projects .table tbody');
            tbody.innerHTML = '';

            projects.forEach(project => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${project.name}</td>
                    <td>${project.client}</td>
                    <td>${project.startDate}</td>
                    <td>${project.endDate}</td>
                    <td>${project.progress}%</td>
                    <td><span class="status-badge status-${project.status.toLowerCase().replace(' ', '')}">${project.status}</span></td>
                    <td>$${project.budget.toLocaleString()}</td>
                    <td>
                        <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;" onclick="editProject(${project.id})">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-warning" style="padding: 6px 12px; font-size: 0.8rem;" onclick="viewProject(${project.id})">
                            <i class="fas fa-eye"></i>
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function clearProjectForm() {
            document.getElementById('project-name').value = '';
            document.getElementById('project-client').value = '';
            document.getElementById('project-start').value = '';
            document.getElementById('project-end').value = '';
            document.getElementById('project-status').value = '';
            document.getElementById('project-budget').value = '';
        }

        // Order Functions
        function addOrder() {
            const customerId = document.getElementById('order-customer').value;
            const productId = document.getElementById('order-product').value;
            const quantity = parseInt(document.getElementById('order-quantity').value);
            const status = document.getElementById('order-status').value;

            if (!customerId || !productId || !quantity) {
                alert('Please fill in all required fields');
                return;
            }

            const customer = customers.find(c => c.id == customerId);
            const product = products.find(p => p.id == productId);
            
            if (!customer || !product) {
                alert('Invalid customer or product selection');
                return;
            }

            if (product.quantity < quantity) {
                alert('Insufficient stock available');
                return;
            }

            const total = product.price * quantity;
            const newOrder = {
                id: orders.length + 1,
                customerId: parseInt(customerId),
                customerName: customer.name,
                date: new Date().toISOString().split('T')[0],
                total: total,
                status: status,
                items: [{
                    productId: parseInt(productId),
                    name: product.name,
                    quantity: quantity,
                    price: product.price
                }]
            };

            // Update product quantity
            product.quantity -= quantity;
            if (product.quantity === 0) product.status = 'Out of Stock';
            else if (product.quantity < product.reorderLevel) product.status = 'Low Stock';

            orders.push(newOrder);
            updateOrderTable();
            updateProductTable();
            clearOrderForm();
            showNotification('Order created successfully!', 'success');
        }

        function updateOrderTable() {
            const tbody = document.querySelector('#orders .table tbody');
            tbody.innerHTML = '';

            orders.forEach(order => {
                const itemsText = order.items.map(item => `${item.quantity}x ${item.name}`).join(', ');
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>#${1000 + order.id}</td>
                    <td>${order.customerName}</td>
                    <td>${order.date}</td>
                    <td>${itemsText}</td>
                    <td>$${order.total.toFixed(2)}</td>
                    <td><span class="status-badge status-${order.status.toLowerCase().replace(' ', '')}">${order.status}</span></td>
                    <td>
                        <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;" onclick="viewOrder(${order.id})">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn btn-warning" style="padding: 6px 12px; font-size: 0.8rem;" onclick="editOrder(${order.id})">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-danger" style="padding: 6px 12px; font-size: 0.8rem;" onclick="deleteOrder(${order.id})">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function deleteOrder(id) {
            if (confirm('Are you sure you want to delete this order?')) {
                orders = orders.filter(order => order.id !== id);
                updateOrderTable();
                showNotification('Order deleted successfully!', 'success');
            }
        }

        function clearOrderForm() {
            document.getElementById('order-customer').value = '';
            document.getElementById('order-product').value = '';
            document.getElementById('order-quantity').value = '';
            document.getElementById('order-status').value = '';
        }

        // Employee Functions
        function addEmployee() {
            const name = document.getElementById('employee-name').value;
            const email = document.getElementById('employee-email').value;
            const position = document.getElementById('employee-position').value;
            const department = document.getElementById('employee-department').value;
            const salary = parseFloat(document.getElementById('employee-salary').value);
            const joinDate = document.getElementById('employee-join-date').value;

            if (!name || !email || !position || !department || !salary || !joinDate) {
                alert('Please fill in all required fields');
                return;
            }

            const newEmployee = {
                id: employees.length + 1,
                name: name,
                email: email,
                position: position,
                department: department,
                salary: salary,
                joinDate: joinDate,
                status: 'Active'
            };

            employees.push(newEmployee);
            updateEmployeeTable();
            clearEmployeeForm();
            showNotification('Employee added successfully!', 'success');
        }

        function updateEmployeeTable() {
            const tbody = document.querySelector('#employees .table tbody');
            tbody.innerHTML = '';

            employees.forEach(employee => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${employee.name}</td>
                    <td>${employee.email}</td>
                    <td>${employee.position}</td>
                    <td>${employee.department}</td>
                    <td>$${employee.salary.toLocaleString()}</td>
                    <td>${employee.joinDate}</td>
                    <td><span class="status-badge status-${employee.status.toLowerCase()}">${employee.status}</span></td>
                    <td>
                        <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;" onclick="editEmployee(${employee.id})">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-warning" style="padding: 6px 12px; font-size: 0.8rem;" onclick="viewEmployee(${employee.id})">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn btn-danger" style="padding: 6px 12px; font-size: 0.8rem;" onclick="deleteEmployee(${employee.id})">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function deleteEmployee(id) {
            if (confirm('Are you sure you want to delete this employee?')) {
                employees = employees.filter(employee => employee.id !== id);
                updateEmployeeTable();
                showNotification('Employee deleted successfully!', 'success');
            }
        }

        function clearEmployeeForm() {
            document.getElementById('employee-name').value = '';
            document.getElementById('employee-email').value = '';
            document.getElementById('employee-position').value = '';
            document.getElementById('employee-department').value = '';
            document.getElementById('employee-salary').value = '';
            document.getElementById('employee-join-date').value = '';
        }

        // Supplier Functions
        function addSupplier() {
            const name = document.getElementById('supplier-name').value;
            const email = document.getElementById('supplier-email').value;
            const phone = document.getElementById('supplier-phone').value;
            const category = document.getElementById('supplier-category').value;
            const rating = parseFloat(document.getElementById('supplier-rating').value);

            if (!name || !email || !phone || !category || !rating) {
                alert('Please fill in all required fields');
                return;
            }

            const newSupplier = {
                id: suppliers.length + 1,
                name: name,
                email: email,
                phone: phone,
                category: category,
                rating: rating,
                totalOrders: 0
            };

            suppliers.push(newSupplier);
            updateSupplierTable();
            clearSupplierForm();
            showNotification('Supplier added successfully!', 'success');
        }

        function updateSupplierTable() {
            const tbody = document.querySelector('#suppliers .table tbody');
            tbody.innerHTML = '';

            suppliers.forEach(supplier => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${supplier.name}</td>
                    <td>${supplier.email}</td>
                    <td>${supplier.phone}</td>
                    <td>${supplier.category}</td>
                    <td>${supplier.rating} ⭐</td>
                    <td>${supplier.totalOrders}</td>
                    <td>
                        <button class="btn btn-success" style="padding: 6px 12px; font-size: 0.8rem;" onclick="editSupplier(${supplier.id})">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-warning" style="padding: 6px 12px; font-size: 0.8rem;" onclick="viewSupplier(${supplier.id})">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn btn-danger" style="padding: 6px 12px; font-size: 0.8rem;" onclick="deleteSupplier(${supplier.id})">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function deleteSupplier(id) {
            if (confirm('Are you sure you want to delete this supplier?')) {
                suppliers = suppliers.filter(supplier => supplier.id !== id);
                updateSupplierTable();
                showNotification('Supplier deleted successfully!', 'success');
            }
        }

        function clearSupplierForm() {
            document.getElementById('supplier-name').value = '';
            document.getElementById('supplier-email').value = '';
            document.getElementById('supplier-phone').value = '';
            document.getElementById('supplier-category').value = '';
            document.getElementById('supplier-rating').value = '';
        }

        // Enhanced Dashboard Functions
        function updateDashboardStats() {
            const totalRevenue = transactions.filter(t => t.type === 'Income').reduce((sum, t) => sum + t.amount, 0);
            const totalExpenses = Math.abs(transactions.filter(t => t.type === 'Expense').reduce((sum, t) => sum + t.amount, 0));
            const totalProfit = totalRevenue - totalExpenses;
            const totalOrders = orders.length;
            const totalCustomers = customers.length;
            const totalProducts = products.length;
            const totalEmployees = employees.length;

            // Update main dashboard cards
            document.querySelector('#dashboard .card:nth-child(1) .card-value').textContent = '$' + totalRevenue.toLocaleString();
            document.querySelector('#dashboard .card:nth-child(2) .card-value').textContent = totalCustomers.toLocaleString();
            document.querySelector('#dashboard .card:nth-child(3) .card-value').textContent = totalOrders.toLocaleString();
            document.querySelector('#dashboard .card:nth-child(4) .card-value').textContent = ((totalProfit / totalRevenue) * 100).toFixed(1) + '%';

            // Update advanced analytics cards
            const lowStockCount = getLowStockProducts().length;
            const pendingOrdersCount = orders.filter(o => o.status === 'Pending').length;
            const topCustomersCount = getTopCustomers().length;
            const growthRate = ((totalRevenue / 100000) * 100).toFixed(1);

            const lowStockElement = document.getElementById('low-stock-count');
            const pendingOrdersElement = document.getElementById('pending-orders-count');
            const topCustomersElement = document.getElementById('top-customers-count');
            const growthRateElement = document.getElementById('growth-rate');

            if (lowStockElement) lowStockElement.textContent = lowStockCount;
            if (pendingOrdersElement) pendingOrdersElement.textContent = pendingOrdersCount;
            if (topCustomersElement) topCustomersElement.textContent = topCustomersCount;
            if (growthRateElement) growthRateElement.textContent = growthRate + '%';
        }

        // Advanced Search and Filter Functions
        function searchCustomers(query) {
            const filtered = customers.filter(customer => 
                customer.name.toLowerCase().includes(query.toLowerCase()) ||
                customer.email.toLowerCase().includes(query.toLowerCase()) ||
                customer.company.toLowerCase().includes(query.toLowerCase())
            );
            return filtered;
        }

        function filterProductsByCategory(category) {
            if (category === 'All') return products;
            return products.filter(product => product.category === category);
        }

        function getLowStockProducts() {
            return products.filter(product => product.status === 'Low Stock' || product.status === 'Out of Stock');
        }

        function getTopCustomers() {
            return customers.sort((a, b) => b.totalSpent - a.totalSpent).slice(0, 5);
        }

        // Report Functions
        function generateReport(type) {
            showNotification(`${type} report generated successfully!`, 'success');
            // In a real application, this would generate and download a report
        }

        function exportReport(format) {
            showNotification(`Report exported as ${format.toUpperCase()} successfully!`, 'success');
            // In a real application, this would export the report
        }

        // Utility Functions
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                border-radius: 8px;
                color: white;
                font-weight: 600;
                z-index: 1000;
                animation: slideIn 0.3s ease;
                background: ${type === 'success' ? '#28a745' : type === 'error' ? '#dc3545' : '#667eea'};
            `;
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Add CSS animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize all tables
            updateCustomerTable();
            updateProductTable();
            updateTransactionTable();
            updateProjectTable();
            updateOrderTable();
            updateEmployeeTable();
            updateSupplierTable();
            updateFinancialCards();
            updateDashboardStats();

            // Populate dropdowns
            populateOrderDropdowns();

            // Add click handlers for quick actions
            const quickActions = document.querySelectorAll('.quick-action');
            quickActions.forEach(action => {
                action.addEventListener('click', function() {
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = 'translateY(-3px)';
                    }, 150);
                });
            });

            // Add form submission handlers
            const forms = document.querySelectorAll('.form-input');
            forms.forEach(input => {
                input.addEventListener('focus', function() {
                    this.style.borderColor = '#667eea';
                });

                input.addEventListener('blur', function() {
                    this.style.borderColor = '#e1e5e9';
                });
            });

            // Add button click animations
            const buttons = document.querySelectorAll('.btn');
            buttons.forEach(button => {
                button.addEventListener('click', function() {
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = 'scale(1)';
                    }, 150);
                });
            });

            // Add form submit handlers
            document.querySelector('#crm .btn-primary').addEventListener('click', addCustomer);
            document.querySelector('#inventory .btn-primary').addEventListener('click', addProduct);
            document.querySelector('#orders .btn-primary').addEventListener('click', addOrder);
            document.querySelector('#finance .btn-primary').addEventListener('click', addTransaction);
            document.querySelector('#projects .btn-primary').addEventListener('click', addProject);
            document.querySelector('#employees .btn-primary').addEventListener('click', addEmployee);
            document.querySelector('#suppliers .btn-primary').addEventListener('click', addSupplier);

            // Add report generation handlers
            document.querySelector('#reports .btn-primary').addEventListener('click', () => exportReport('pdf'));
            document.querySelector('#reports .btn-success').addEventListener('click', () => exportReport('excel'));
            document.querySelector('#reports .btn-warning').addEventListener('click', () => generateReport('Performance'));

            // Add real-time updates
            setInterval(updateDashboardStats, 5000);
        });

        // Helper function to populate order dropdowns
        function populateOrderDropdowns() {
            const customerSelect = document.getElementById('order-customer');
            const productSelect = document.getElementById('order-product');

            if (customerSelect) {
                customerSelect.innerHTML = '<option value="">Select Customer</option>';
                customers.forEach(customer => {
                    customerSelect.innerHTML += `<option value="${customer.id}">${customer.name} - ${customer.company}</option>`;
                });
            }

            if (productSelect) {
                productSelect.innerHTML = '<option value="">Select Product</option>';
                products.forEach(product => {
                    productSelect.innerHTML += `<option value="${product.id}">${product.name} - $${product.price} (${product.quantity} in stock)</option>`;
                });
            }
        }

        // Simulate real-time data updates
        setInterval(() => {
            const cardValues = document.querySelectorAll('.card-value');
            cardValues.forEach(card => {
                if (card.textContent.includes('$')) {
                    const currentValue = parseInt(card.textContent.replace(/[^0-9]/g, ''));
                    const fluctuation = Math.floor(Math.random() * 100) - 50;
                    const newValue = Math.max(0, currentValue + fluctuation);
                    card.textContent = '$' + newValue.toLocaleString();
                }
            });
        }, 10000);

        // Login System Functions
        // Users array will be loaded from Firebase

        const DEFAULT_USERNAME = 'gitz.tech';
        const DEFAULT_PASSWORD = 'Gitez.Maha@Ubi9186';

        function checkLoginStatus() {
            const isLoggedIn = sessionStorage.getItem('webveda_logged_in');
            if (isLoggedIn === 'true') {
                showMainContent();
            } else {
                showLoginForm();
            }
        }

        function showLoginForm() {
            document.getElementById('loginSection').style.display = 'flex';
            document.getElementById('mainContent').style.display = 'none';
        }

        function showMainContent() {
            document.getElementById('loginSection').style.display = 'none';
            document.getElementById('mainContent').style.display = 'block';
            updateAddUserButtonVisibility();
        }

        async function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const errorMessage = document.getElementById('errorMessage');
            const successMessage = document.getElementById('successMessage');
            const loginBtn = document.getElementById('loginBtn');

            // Hide previous messages
            errorMessage.style.display = 'none';
            successMessage.style.display = 'none';

            try {
                // Show loading state
                loginBtn.disabled = true;
                loginBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Logging in...';

                // Find user in Firebase users collection
                const userQuery = await db.collection('users').where('username', '==', username).get();
                
                if (!userQuery.empty) {
                    const userDoc = userQuery.docs[0];
                    const userData = userDoc.data();
                    
                    // Simple password check (in production, use proper hashing)
                    if (userData.password === password) {
                        // Show success message
                        successMessage.style.display = 'block';
                        
                        // Simulate login delay
                        setTimeout(() => {
                            // Store login status and user info
                            sessionStorage.setItem('webveda_logged_in', 'true');
                            sessionStorage.setItem('webveda_username', username);
                            sessionStorage.setItem('webveda_user_role', userData.role);
                            sessionStorage.setItem('webveda_user_name', userData.name);
                            
                            // Show main content
                            showMainContent();
                            
                            // Reset form
                            document.getElementById('loginForm').reset();
                            loginBtn.disabled = false;
                            loginBtn.innerHTML = '<i class="fas fa-sign-in-alt"></i> Login';
                            successMessage.style.display = 'none';
                        }, 1500);
                    } else {
                        throw new Error('Invalid password');
                    }
                } else {
                    throw new Error('User not found');
                }
            } catch (error) {
                // Show error message
                errorMessage.style.display = 'block';
                
                // Clear password field
                document.getElementById('password').value = '';
                
                // Reset button
                loginBtn.disabled = false;
                loginBtn.innerHTML = '<i class="fas fa-sign-in-alt"></i> Login';
                
                // Shake animation
                const loginCard = document.querySelector('.login-card');
                loginCard.style.animation = 'shake 0.5s ease-in-out';
                setTimeout(() => {
                    loginCard.style.animation = '';
                }, 500);
            }
        }

        function logout() {
            // Clear session storage
            sessionStorage.removeItem('webveda_logged_in');
            sessionStorage.removeItem('webveda_username');
            sessionStorage.removeItem('webveda_user_role');
            sessionStorage.removeItem('webveda_user_name');
            
            // Show login form
            showLoginForm();
            
            // Show logout message
            showNotification('Logged out successfully!', 'success');
        }

        function togglePassword() {
            const passwordInput = document.getElementById('password');
            const toggleIcon = document.getElementById('togglePassword');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                toggleIcon.classList.remove('fa-eye');
                toggleIcon.classList.add('fa-eye-slash');
            } else {
                passwordInput.type = 'password';
                toggleIcon.classList.remove('fa-eye-slash');
                toggleIcon.classList.add('fa-eye');
            }
        }

        // User Management Functions
        function showAddUserForm() {
            // Check if current user is gitz.tech (admin)
            const currentUsername = sessionStorage.getItem('webveda_username');
            if (currentUsername !== 'gitz.tech') {
                alert('Only admin users can add new users.');
                return;
            }
            
            // Hide main content and show add user form
            document.getElementById('mainContent').style.display = 'none';
            document.getElementById('addUserSection').style.display = 'flex';
        }

        function showLoginForm() {
            document.getElementById('addUserSection').style.display = 'none';
            document.getElementById('loginSection').style.display = 'flex';
            updateAddUserButtonVisibility();
        }

        function showMainLoginForm() {
            document.getElementById('addUserSection').style.display = 'none';
            document.getElementById('mainContent').style.display = 'block';
            updateAddUserButtonVisibility();
        }

        async function addUser() {
            const name = document.getElementById('newUserName').value;
            const email = document.getElementById('newUserEmail').value;
            const username = document.getElementById('newUsername').value;
            const password = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const role = document.getElementById('newUserRole').value;
            const errorMessage = document.getElementById('addUserErrorMessage');
            const successMessage = document.getElementById('addUserSuccessMessage');
            const addUserBtn = document.getElementById('addUserBtn');

            // Hide previous messages
            errorMessage.style.display = 'none';
            successMessage.style.display = 'none';

            // Validation
            if (!name || !email || !username || !password || !confirmPassword || !role) {
                errorMessage.textContent = 'Please fill in all fields.';
                errorMessage.style.display = 'block';
                return;
            }

            if (password !== confirmPassword) {
                errorMessage.textContent = 'Passwords do not match.';
                errorMessage.style.display = 'block';
                return;
            }

            if (password.length < 6) {
                errorMessage.textContent = 'Password must be at least 6 characters long.';
                errorMessage.style.display = 'block';
                return;
            }

            try {
                // Check if username already exists in Firebase
                const usernameQuery = await db.collection('users').where('username', '==', username).get();
                if (!usernameQuery.empty) {
                    errorMessage.textContent = 'Username already exists. Please choose a different username.';
                    errorMessage.style.display = 'block';
                    return;
                }

                // Check if email already exists in Firebase
                const emailQuery = await db.collection('users').where('email', '==', email).get();
                if (!emailQuery.empty) {
                    errorMessage.textContent = 'Email already exists. Please use a different email.';
                    errorMessage.style.display = 'block';
                    return;
                }

                // Add new user to Firebase
                const newUser = {
                    username: username,
                    password: password,
                    role: role,
                    name: name,
                    email: email
                };

                await addUserToFirebase(newUser);

                // Show success message
                successMessage.style.display = 'block';
                addUserBtn.disabled = true;
                addUserBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Adding User...';

                // Simulate delay
                setTimeout(() => {
                    // Reset form
                    document.getElementById('addUserForm').reset();
                    addUserBtn.disabled = false;
                    addUserBtn.innerHTML = '<i class="fas fa-user-plus"></i> Add User';
                    successMessage.style.display = 'none';
                    
                    // Show main content
                    showMainLoginForm();
                    
                    // Show success notification
                    showNotification('User added successfully! You can now login with the new credentials.', 'success');
                }, 1500);
            } catch (error) {
                errorMessage.textContent = 'Error adding user to database. Please try again.';
                errorMessage.style.display = 'block';
                addUserBtn.disabled = false;
                addUserBtn.innerHTML = '<i class="fas fa-user-plus"></i> Add User';
            }
        }

        function toggleNewPassword() {
            const passwordInput = document.getElementById('newPassword');
            const toggleIcon = document.getElementById('toggleNewPassword');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                toggleIcon.classList.remove('fa-eye');
                toggleIcon.classList.add('fa-eye-slash');
            } else {
                passwordInput.type = 'password';
                toggleIcon.classList.remove('fa-eye-slash');
                toggleIcon.classList.add('fa-eye');
            }
        }

        function toggleConfirmPassword() {
            const passwordInput = document.getElementById('confirmPassword');
            const toggleIcon = document.getElementById('toggleConfirmPassword');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                toggleIcon.classList.remove('fa-eye');
                toggleIcon.classList.add('fa-eye-slash');
            } else {
                passwordInput.type = 'password';
                toggleIcon.classList.remove('fa-eye-slash');
                toggleIcon.classList.add('fa-eye');
            }
        }

        // Add shake animation
        const shakeStyle = document.createElement('style');
        shakeStyle.textContent = `
            @keyframes shake {
                0%, 100% { transform: translateX(0); }
                25% { transform: translateX(-5px); }
                75% { transform: translateX(5px); }
            }
        `;
        document.head.appendChild(shakeStyle);

        // Initialize login system
        document.addEventListener('DOMContentLoaded', async function() {
            // Initialize Firebase data
            try {
                await initializeFirebaseData();
            } catch (error) {
                console.error('Error initializing Firebase data:', error);
            }

            // Check login status on page load
            checkLoginStatus();

            // Add login form submit handler
            document.getElementById('loginForm').addEventListener('submit', function(e) {
                e.preventDefault();
                login();
            });

            // Add password toggle handler
            document.getElementById('togglePassword').addEventListener('click', togglePassword);

            // Add enter key handlers for login
            document.getElementById('username').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    document.getElementById('password').focus();
                }
            });

            document.getElementById('password').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    login();
                }
            });

            // Add user management form handlers
            const addUserForm = document.getElementById('addUserForm');
            if (addUserForm) {
                addUserForm.addEventListener('submit', function(e) {
                e.preventDefault();
                addUser();
            });
            }

            // Add password toggle handlers for add user form
            const toggleNewPassword = document.getElementById('toggleNewPassword');
            const toggleConfirmPassword = document.getElementById('toggleConfirmPassword');
            
            if (toggleNewPassword) {
                toggleNewPassword.addEventListener('click', toggleNewPassword);
            }
            
            if (toggleConfirmPassword) {
                toggleConfirmPassword.addEventListener('click', toggleConfirmPassword);
            }

            // Set up Add User button visibility on page load
            setTimeout(() => {
                updateAddUserButtonVisibility();
            }, 100);
        });

        // Function to update Add User button visibility
        function updateAddUserButtonVisibility() {
            const showAddUserBtn = document.getElementById('showAddUserBtn');
            const addUserNavBtn = document.getElementById('addUserNavBtn');
            const currentUsername = sessionStorage.getItem('webveda_username');
            
            if (showAddUserBtn) {
                if (currentUsername === 'gitz.tech') {
                    showAddUserBtn.style.display = 'inline-block';
                } else {
                    showAddUserBtn.style.display = 'none';
                }
            }
            
            if (addUserNavBtn) {
                if (currentUsername === 'gitz.tech') {
                    addUserNavBtn.style.display = 'inline-block';
                } else {
                    addUserNavBtn.style.display = 'none';
                }
            }
        }
    </script>
</body>
</html>
